<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

<style>
body{
    font-family:"Yu Gothic","Hiragino Kaku Gothic ProN",sans-serif;
    padding:20px;
}

/* ===== 入力フォーム ===== */

.form-area{
    margin-bottom:30px;
}

input, textarea{
    width:300px;
    margin-bottom:10px;
}

/* ===== 用紙 ===== */

.paper{
    width:794px;
    padding:30px;
    border:2px solid #000;
    background:#fff;
}

.title{
    text-align:center;
    font-size:30px;
    font-weight:bold;
    letter-spacing:15px;
    margin-bottom:20px;
}

/* ===== 表共通 ===== */

.table{
    width:100%;
    border-collapse:collapse;
    margin-bottom:10px;
}

.table td{
    border:1px solid #000;
    padding:6px;
    font-size:13px;
}

.label{
    background:#eee;
    width:120px;
}

.center{
    text-align:center;
}

/* ===== 内容 ===== */

.content-box{
    height:160px;
    white-space:pre-wrap;
}

/* ===== 印鑑 ===== */

.stamp-table td{
    height:70px;
    width:25%;
}

/* ===== フッター ===== */

.small{
    font-size:12px;
}
</style>
</head>

<body>

<h2>入力フォーム</h2>

<div class="form-area">

部署名<br>
<input id="f_dept"><br>

氏名<br>
<input id="f_name"><br>

件名<br>
<input id="f_title"><br>

起案日<br>
<input type="date" id="f_date"><br>

内容<br>
<textarea id="f_content" rows="5"></textarea><br>

<button onclick="updatePreview()">反映</button>
<button onclick="downloadPDF()">PDFダウンロード</button>

</div>


<!-- ===== 稟議書 ===== -->

<div id="pdfArea" class="paper">

<div class="title">稟 議 書</div>

<table class="table">
<tr>
<td class="label">起案者</td>
<td>（部署名）<span id="dept"></span>　（氏名）<span id="name"></span></td>
<td class="label">起案日</td>
<td><span id="date"></span></td>
</tr>

<tr>
<td class="label">件名</td>
<td colspan="3"><span id="title"></span></td>
</tr>

<tr>
<td class="label">内容</td>
<td colspan="3" class="content-box"><span id="content"></span></td>
</tr>

<tr>
<td class="label">添付書類</td>
<td colspan="3"></td>
</tr>

<tr>
<td class="label">関連文書</td>
<td colspan="3"></td>
</tr>
</table>


<table class="table stamp-table">
<tr class="center">
<td>起案者</td>
<td>所属長</td>
<td>部長</td>
<td>決裁</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</table>

<div class="small">
※必要に応じて関連資料を添付してください。
</div>

</div>



<script>
function updatePreview(){

    document.getElementById("dept").innerText =
        document.getElementById("f_dept").value;

    document.getElementById("name").innerText =
        document.getElementById("f_name").value;

    document.getElementById("title").innerText =
        document.getElementById("f_title").value;

    document.getElementById("date").innerText =
        document.getElementById("f_date").value;

    document.getElementById("content").innerText =
        document.getElementById("f_content").value;
}


function downloadPDF(){

    const element = document.getElementById("pdfArea");

    const opt = {
        margin: 5,
        filename: "稟議書.pdf",
        image: { type: 'jpeg', quality: 1 },
        html2canvas: { scale: 2 },
        jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
    };

    html2pdf().set(opt).from(element).save();
}
</script>

</body>
</html>
